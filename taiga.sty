\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{taiga}[2021/02/15 Greenone092]

\RequirePackage{ifthen}
\newboolean{indentfirst} 
\setboolean{indentfirst}{false} 
\newboolean{chemistry} 
\setboolean{chemistry}{false} 
\newboolean{maths} 
\setboolean{maths}{false} 
\newboolean{flux}
\setboolean{flux}{false} 
\newboolean{bibliography}
\setboolean{bibliography}{false} 
\newboolean{legacy}
\setboolean{legacy}{false} 
\newboolean{a4paper}
\setboolean{a4paper}{false} 
\newboolean{futura}
\setboolean{futura}{false} 

\RequirePackage[T1]{fontenc}
\RequirePackage[utf8]{inputenc}
\RequirePackage{graphicx}
\RequirePackage[hyphens]{url}
\RequirePackage{hyperref}
\RequirePackage{multicol}
\RequirePackage{lipsum}
\RequirePackage{todonotes}
\RequirePackage{textcomp}
\RequirePackage{caption}
\RequirePackage{gensymb}
\RequirePackage{booktabs}
\RequirePackage{float}
\RequirePackage{microtype}
\RequirePackage{siunitx}
\RequirePackage{times}

% Complex options

\DeclareOption{maths}{
	\setboolean{maths}{true}
}

\DeclareOption{chemistry}{
	\setboolean{chemistry}{true} 
}

\DeclareOption{indentfirst}{
	\setboolean{indentfirst}{true} 
}

\DeclareOption{flux}{
	\setboolean{flux}{true}
}

\DeclareOption{bibliography}{
	\setboolean{bibliography}{true}
}

\DeclareOption{legacy}{
	\setboolean{legacy}{true}
}

\DeclareOption{a4paper}{
	\setboolean{a4paper}{true}
}

\DeclareOption{futura}{
	\setboolean{futura}{true}
}

\ExecuteOptions{a4paper,maths}

% Simple Options

\DeclareOption{noindent}{
	\setlength{\parindent}{0em}
}

\DeclareOption{tocnosections}{
	\setcounter{tocdepth}{0}
}

\ProcessOptions\relax

\ifthenelse{\boolean{maths}}{
	\RequirePackage{tikz, pgf, pgfplots}
	\pgfplotsset{compat=1.15}
	\RequirePackage{amsmath, amsthm, amssymb, amsfonts, mathtools}
	
	\theoremstyle{plain}
	\newtheorem{theorem}{Theorem}[section]
	\theoremstyle{plain}
	\newtheorem{corollary}{Corollary}[theorem]
	\theoremstyle{plain}
	\newtheorem{lemma}[theorem]{Lemma}
	\theoremstyle{definition}
	\newtheorem{definition}{Definition}[section]
	
	\newcommand{\N}{\mathbb{N}}
	\newcommand{\Z}{\mathbb{Z}}
	\newcommand{\Q}{\mathbb{Q}}
	\newcommand{\R}{\mathbb{R}}
}{} 

\ifthenelse{\boolean{chemistry}}{
	\RequirePackage[version=4]{mhchem}
	\RequirePackage{tikz}
	\RequirePackage{chemfig}
}{} 

\ifthenelse{\boolean{indentfirst}}{
	\RequirePackage{indentfirst}
}{} 

\ifthenelse{\boolean{flux}}{
	\definecolor{dysname}{RGB}{29,32,33}
	\definecolor{osyname}{RGB}{253, 246, 233} % alt. {252, 235, 225}
	\pagecolor{osyname}
	\color{dysname}
}{} 

\ifthenelse{\boolean{bibliography}}{
	\RequirePackage[square,numbers]{natbib}
	\bibliographystyle{unsrtnat}
}{} 

\ifthenelse{\boolean{legacy}}{
	\RequirePackage[version=4]{mhchem}
}{}

\ifthenelse{\boolean{a4paper}}{
	\RequirePackage[a4paper, portrait]{geometry}
}{}

\ifthenelse{\boolean{futura}}{
	\Requirepackage{fontspec}
	\setmainfont{Futura Medium}[ItalicFont={Futura Medium Italic}]
}{}


